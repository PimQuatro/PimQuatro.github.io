(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,a,t){e.exports=t.p+"static/media/support.827a7546.svg"},16:function(e,a,t){},22:function(e,a,t){e.exports=t(38)},27:function(e,a,t){},38:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),s=t(17),l=t.n(s),o=(t(27),t(6)),i=t(7),c=t(10),m=t(9),u=t(11),d=(t(16),t(13)),h=t.n(d),f=t(3),p=t.n(f),v=t(8);function g(e){var a=e.substring(0,e.indexOf("@")),t=e.substring(e.indexOf("@")+1,e.length);return a.length>=1&&t.length>=3&&-1===a.search("@")&&-1===t.search("@")&&-1===a.search(" ")&&-1===t.search(" ")&&-1!==t.search(".")&&t.indexOf(".")>=1&&t.lastIndexOf(".")<t.length-1}var b=function(){function e(){Object(o.a)(this,e)}return Object(i.a)(e,null,[{key:"get",value:function(){var e=Object(v.a)(p.a.mark(function e(a,t){var n,r,s,l;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"GET",headers:{"Content-Type":"application/json",Authorization:t}},e.next=3,fetch(a,n);case 3:return r=e.sent,e.next=6,r.json();case 6:return s=e.sent,l={ok:r.ok,data:s,status:r.status},e.abrupt("return",l);case 9:case"end":return e.stop()}},e,this)}));return function(a,t){return e.apply(this,arguments)}}()},{key:"post",value:function(){var e=Object(v.a)(p.a.mark(function e(a,t){var n,r,s,l;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)},e.prev=1,e.next=4,fetch(a,n);case 4:if((r=e.sent).ok){e.next=11;break}return e.next=8,r.json();case 8:e.t0=e.sent,e.next=12;break;case 11:e.t0={message:"Cadastro efetuado com sucesso !"};case 12:return s=e.t0,console.log(s),l={ok:r.ok,msg:s.message},e.abrupt("return",l);case 18:e.prev=18,e.t1=e.catch(1),console.error(e.t1);case 21:case"end":return e.stop()}},e,this,[[1,18]])}));return function(a,t){return e.apply(this,arguments)}}()}]),e}(),E=function(){function e(){Object(o.a)(this,e)}return Object(i.a)(e,null,[{key:"getUser",value:function(){var e=Object(v.a)(p.a.mark(function e(a,t){var n,r,s,l,o;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={},r="Basic ".concat(btoa("".concat(a,":").concat(t))),e.next=4,b.get("https://pimquatro.herokuapp.com/api/atendentes",r);case 4:return s=e.sent,l=s.data,s.ok?(o=l.filter(function(e){return e.email==a?e:null}),localStorage.setItem("user",JSON.stringify(o)),n.status=!0,localStorage.setItem("token",r),window.location="https://pimquatro.github.io/App/"):(n.msg="Unauthorized"===s.data.message?"Email ou senha inv\xe1lidos !":s.data.message,n.status=!1),e.abrupt("return",n);case 8:case"end":return e.stop()}},e,this)}));return function(a,t){return e.apply(this,arguments)}}()}]),e}(),w=function(e){var a=e.show,t=e.cor,n=e.msg;return r.a.createElement("div",{id:"snackbar",className:a,style:{backgroundColor:t}},n)},V=t(40),k=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(c.a)(this,Object(m.a)(a).call(this,e))).handleClick=function(){var e=Object(v.a)(p.a.mark(function e(a){var n,r,s,l,o,i,c,m;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),n=t.state,r=n.emailValid,s=n.senhaValid,l=t.props.renderProgressBar,o=t.refs,i=o.email,c=o.senha,!r||!s){e.next=12;break}return l("w-100 progress"),e.next=8,E.getUser(i.value,c.value);case 8:(m=e.sent).status?l("w-100 progress d-none"):(l("w-100 progress d-none"),t.setState({show:"show",msg:m.msg,cor:"#d9534f"}),setTimeout(function(){return t.setState({show:""})},3e3)),e.next=14;break;case 12:t.setState({show:"show",msg:"Preencha os campos !",cor:"#d9534f"}),setTimeout(function(){return t.setState({show:""})},3e3);case 14:case"end":return e.stop()}},e,this)}));return function(a){return e.apply(this,arguments)}}(),t.handleValidaSenha=function(){var e=t.refs.senha;String(e.value).length>=6?t.setState({senhaIsValid:"form-control",senhaValid:!0}):t.setState({senhaIsValid:"form-control is-invalid",senhaValid:!1})},t.handleValidaEmail=function(){g(t.refs.email.value)?t.setState({emailIsValid:"form-control",emailValid:!0}):t.setState({emailIsValid:"form-control is-invalid",emailValid:!1})},t.state={emailIsValid:"form-control",senhaIsValid:"form-control",emailValid:!1,senhaValid:!1,show:"",msg:"",cor:""},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.state,a=e.emailIsValid,t=e.senhaIsValid,n=e.show,s=e.msg,l=e.cor;return r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{type:"email",onBlur:this.handleValidaEmail,className:a,id:"email",ref:"email","aria-describedby":"emailHelp",placeholder:"Seu email"}),r.a.createElement("small",{id:"emailHelp",className:"invalid-feedback"},"Insira um email valido !")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"senha"},"Senha"),r.a.createElement("input",{type:"password",onBlur:this.handleValidaSenha,className:t,id:"senha",ref:"senha","aria-describedby":"senhaHelp",placeholder:"Sua Senha"}),r.a.createElement("small",{id:"senhaHelp",className:"invalid-feedback"},"Insira uma senha valida !")),r.a.createElement("div",{className:"W-100 d-flex flex-column justify-content-center"},r.a.createElement("button",{type:"button",onClick:this.handleClick,className:"btn btn-primary"},"Entrar"),r.a.createElement("small",{className:"mt-3 align-self-center"},"N\xe3o possui uma conta ? ",r.a.createElement(V.a,{to:"/cadastro"},"Cadastre-se aqui"))),r.a.createElement(w,{show:n,msg:s,cor:l}))}}]),a}(n.Component),S=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(c.a)(this,Object(m.a)(a).call(this,e))).renderProgressBar=function(e){t.setState({progress:e})},t.state={progress:"w-100 progress d-none"},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.state.progress;return r.a.createElement("div",{className:"col-md-12 w-100 d-flex justify-content-center"},r.a.createElement("div",{className:"hero-container shadow-1 bg-light fade-in p-3"},r.a.createElement("div",{className:e},r.a.createElement("div",{className:"progress-bar"})),r.a.createElement("img",{className:"img-center",src:h.a,width:"80",height:"80",alt:"Logo"}),r.a.createElement("hr",null),r.a.createElement(k,{renderProgressBar:this.renderProgressBar})))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var y=t(41),N=t(42),j=t(43),O=t(44),x=t(18),I=t.n(x),C=t(21),B=t.n(C),P=function(){function e(){Object(o.a)(this,e)}return Object(i.a)(e,null,[{key:"create",value:function(){var e=Object(v.a)(p.a.mark(function e(a){var t,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={},e.next=3,b.post("https://pimquatro.herokuapp.com/api/atendentes",a);case 3:return n=e.sent,console.log(n),n.ok,t.msg=n.msg,t.status=n.ok,e.abrupt("return",t);case 7:case"end":return e.stop()}},e,this)}));return function(a){return e.apply(this,arguments)}}()}]),e}(),H=function(e){function a(){var e;return Object(o.a)(this,a),(e=Object(c.a)(this,Object(m.a)(a).call(this))).handleClick=function(){var a=Object(v.a)(p.a.mark(function a(t){var n,r,s,l,o,i,c,m,u,d,h,f,v,g,b;return p.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(t.preventDefault(),n=e.state,r=n.emailValid,s=n.senhaValid,l=n.cpfValid,o=n.nomeValid,i=[r,s,l,o],c=e.props.renderProgressBar,m=e.refs,u=m.nome,d=m.email,h=m.cpf,f=m.senha,v=m.form,i.includes(!1)){a.next=14;break}return c("w-100 progress"),g={nome:u.value,email:d.value,cpf:I.a.format(h.value,"digits"),senha:f.value},a.next=10,P.create(g);case 10:(b=a.sent).status?(c("w-100 progress d-none"),v.reset(),e.setState({show:"show",msg:b.msg,cor:"#5cb85c"}),setTimeout(function(){return e.setState({show:""})},3e3),setTimeout(function(){return e.setState({navigate:!0})},3500)):(c("w-100 progress d-none"),e.setState({show:"show",msg:b.msg,cor:"#d9534f"}),setTimeout(function(){return e.setState({show:""})},3e3)),a.next=16;break;case 14:e.setState({show:"show",msg:"Preencha os campos !",cor:"#d9534f"}),setTimeout(function(){return e.setState({show:""})},3e3);case 16:case"end":return a.stop()}},a,this)}));return function(e){return a.apply(this,arguments)}}(),e.handleValidaSenha=function(){var a=e.refs.senha;String(a.value).length>=6?e.setState({senhaIsValid:"form-control",senhaValid:!0}):e.setState({senhaIsValid:"form-control is-invalid",senhaValid:!1})},e.handleValidaNome=function(){var a=e.refs.nome;0!=String(a.value).length?e.setState({nomeIsValid:"form-control",nomeValid:!0}):e.setState({nomeIsValid:"form-control is-invalid",nomeValid:!1})},e.handleValidaCPF=function(){var a=e.refs.cpf;I.a.validate(a.value)?e.setState({cpfIsValid:"form-control",cpfValid:!0}):e.setState({cpfIsValid:"form-control is-invalid",cpfValid:!1})},e.handleValidaEmail=function(){g(e.refs.email.value)?e.setState({emailIsValid:"form-control",emailValid:!0}):e.setState({emailIsValid:"form-control is-invalid",emailValid:!1})},e.state={emailIsValid:"form-control",emailValid:!1,senhaValid:!1,senhaIsValid:"form-control",nomeIsValid:"form-control",nomeValid:!1,cpfValid:!1,cpfIsValid:"form-control",show:"",msg:"",cor:"",navigate:!1},e}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.state,a=e.navigate,t=e.nomeIsValid,n=e.emailIsValid,s=e.cpfIsValid,l=e.senhaIsValid,o=e.show,i=e.cor,c=e.msg;return a?r.a.createElement(O.a,{to:"/",push:!0}):r.a.createElement("form",{ref:"form"},r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("label",{htmlFor:"nome"},"Nome"),r.a.createElement("input",{type:"text",onBlur:this.handleValidaNome,className:t,id:"nome",ref:"nome",required:!0,"aria-describedby":"nomeHelp",placeholder:"Seu nome"}),r.a.createElement("small",{id:"nomeHelp",className:"invalid-feedback"},"Este campo \xe9 obrigat\xf3rio !")),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{type:"email",onBlur:this.handleValidaEmail,className:n,id:"email",ref:"email","aria-describedby":"emailHelp",placeholder:"Seu email"}),r.a.createElement("small",{id:"emailHelp",className:"invalid-feedback"},"Insira um email valido !"))),r.a.createElement("div",{className:"form-row mt-3"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("label",{htmlFor:"cpf"},"CPF"),r.a.createElement(B.a,{mask:"999.999.999-99",type:"text",onBlur:this.handleValidaCPF,className:s,id:"cpf",ref:"cpf","aria-describedby":"cpfHelp",placeholder:"Seu CPF"}),r.a.createElement("small",{id:"cpfHelp",className:"invalid-feedback"},"Insira um CPF valido !")),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("label",{htmlFor:"senha"},"Senha"),r.a.createElement("input",{type:"password",onBlur:this.handleValidaSenha,className:l,id:"senha",ref:"senha","aria-describedby":"senhaHelp",placeholder:"Sua senha"}),r.a.createElement("small",{id:"senhaHelp",className:"invalid-feedback"},"A senha deve conter no minimo 6 digitos !"))),r.a.createElement("div",{className:"W-  100 d-flex flex-column justify-content-center mt-4"},r.a.createElement("button",{type:"button",onClick:this.handleClick,className:"btn btn-primary"},"Efetuar Cadastro"),r.a.createElement("small",{className:"mt-3 align-self-center"},"J\xe1 possui uma conta ? ",r.a.createElement(V.a,{to:"/"},"Entre aqui"))),r.a.createElement(w,{show:o,msg:c,cor:i}))}}]),a}(n.Component),F=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(c.a)(this,Object(m.a)(a).call(this,e))).state={progress:"w-100 progress d-none"},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"renderProgressBar",value:function(e){this.setState({progress:e})}},{key:"render",value:function(){return r.a.createElement("div",{className:"col-md-12 w-100 d-flex justify-content-center"},r.a.createElement("div",{className:"hero-container-cadastro shadow-1 bg-light fade-in p-3"},r.a.createElement("div",{className:this.state.progress},r.a.createElement("div",{className:"progress-bar"})),r.a.createElement("img",{className:"img-center-cadastro",src:h.a,width:"80",height:"80",alt:"Logo"}),r.a.createElement("hr",null),r.a.createElement(H,{renderProgressBar:this.renderProgressBar.bind(this)})))}}]),a}(n.Component);l.a.render(r.a.createElement(y.a,null,r.a.createElement(N.a,null,r.a.createElement(j.a,{path:"/",exact:!0,component:S}),r.a.createElement(j.a,{path:"/cadastro",component:F}))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[22,2,1]]]);
//# sourceMappingURL=main.b219f91f.chunk.js.map